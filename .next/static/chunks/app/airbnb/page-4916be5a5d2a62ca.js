(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{79417:function(e,s,t){Promise.resolve().then(t.bind(t,14329))},14329:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(3827),n=t(64090),l=t(8792),r=t(53879),c=t(26329),o=t(48219);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(87461).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var d=t(44775),x=t(46617),m=t(78444),h=t(71126),u=t(47907),b=t(18009);function f(){let e=(0,u.useRouter)(),{data:s,status:t}=(0,h.useSession)(),[f,p]=(0,n.useState)(""),[g,y]=(0,n.useState)(4e5),[v,j]=(0,n.useState)(20),[N,w]=(0,n.useState)(8e4),[k,R]=(0,n.useState)(7.5),[P,S]=(0,n.useState)(2500),[M,E]=(0,n.useState)(250),[Z,C]=(0,n.useState)(75),[_,D]=(0,n.useState)(null),[A,F]=(0,n.useState)(!1),[I,O]=(0,n.useState)(""),[$,z]=(0,n.useState)(!1),[L,T]=(0,n.useState)(200),[q,U]=(0,n.useState)(100),[H,G]=(0,n.useState)(150),[V,B]=(0,n.useState)(!1),[J,W]=(0,n.useState)(!1),[X,K]=(0,n.useState)(!1),[Q,Y]=(0,n.useState)("");(0,n.useEffect)(()=>{"authenticated"===t&&s?W(!0):W(!1)},[s,t]);let ee=e=>{j(e),w(g*e/100)},es=e=>{w(e),j(e/g*100)},et=(0,n.useMemo)(()=>{let e=k/100/12,s=(g-N)*e*Math.pow(1+e,360)/(Math.pow(1+e,360)-1),t=Math.floor(Z/100*30),a=t*M+t*q,n=s+L+H,l=a-n,r=12*l,c=r/g*100;return{monthlyPayment:s,monthlyRevenue:a,monthlyExpenses:n,monthlyProfit:l,annualRevenue:12*a,annualExpenses:12*n,annualProfit:r,roi:r/(N+12*L)*100,capRate:c,occupiedDays:t,vacancyDays:30-t}},[g,N,k,M,Z,L,q,H]),ea=()=>{z(!0),B(!0),setTimeout(()=>{var e;z(!1),null===(e=document.querySelector("#results"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},500)},en=async()=>{if(!f){O("Please enter a property URL");return}if(f.includes("zillow.com")){O("Zillow links are currently not supported. Please use Redfin or Realtor.com links instead.");return}F(!0),O("");try{let e=await fetch("/api/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:f})}),s=await e.json();if(!e.ok){if(s.unsupported)throw Error(s.error);throw Error(s.error||"Failed to fetch property data")}if(!s.price||!s.address)throw Error("Missing required property data");localStorage.setItem("importedProperty",JSON.stringify({price:s.price,address:s.address,beds:s.beds,baths:s.baths,sqft:s.sqft,importedAt:new Date().toISOString()})),y(s.price),j(20),w(.2*s.price),R(7.5),E(Math.round(.001*s.price)),C(75),T(200),U(100),G(150),setTimeout(()=>{ea()},100)}catch(e){if(console.error("Import error:",e),O(e instanceof Error?e.message:"Failed to import property data"),f.includes("redfin.com"))try{(0,m.o)(f)&&O("Address extracted from URL. Please enter property price manually.")}catch(e){console.error("URL parsing error:",e)}}finally{F(!1)}},el=async()=>{if(!s){e.push("/login?redirect=/airbnb");return}try{Y(""),F(!0);let e=await fetch("/api/save-analysis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"airbnb",propertyAddress:f||"Manual Entry",propertyPrice:g,downPayment:N,downPaymentPercent:v,interestRate:k,nightlyRate:M,occupancyRate:Z,maintenanceCosts:L,cleaningFee:q,utilities:H,monthlyRevenue:et.monthlyRevenue,monthlyExpenses:et.monthlyExpenses,monthlyProfit:et.monthlyProfit,monthlyPayment:et.monthlyPayment,annualRevenue:et.annualRevenue,annualExpenses:et.annualExpenses,annualProfit:et.annualProfit,roi:et.roi,capRate:et.capRate,occupiedDays:et.occupiedDays,vacancyDays:et.vacancyDays,notes:"",createdAt:new Date().toISOString()})});if(!e.ok){let s=await e.json();if("LIMIT_REACHED"===s.code){window.location.href="/pricing";return}throw Error(s.error||"Failed to save analysis")}b.Am.success("Analysis saved successfully"),window.location.href="/saved"}catch(e){console.error("Error saving analysis:",e),b.Am.error(e instanceof Error?e.message:"Failed to save analysis")}finally{F(!1)}};return(0,a.jsx)(d.Z,{children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8 text-[#2ecc71]",children:"Airbnb Calculator"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-12",children:(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-2 text-[#2ecc71] hover:text-white transition-colors",children:[(0,a.jsx)(r.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"font-mono",children:"Back Home"})]})}),(0,a.jsxs)("div",{className:"mb-12 bg-black/50 p-6 border border-[#2ecc71]/20",children:[(0,a.jsx)("h3",{className:"text-2xl font-mono mb-4",children:"Smart Import"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,a.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Paste Zillow, Redfin, or MLS link here",className:"flex-1 bg-black border border-[#2ecc71] px-4 py-3 font-mono text-white placeholder-gray-500 focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"}),(0,a.jsx)("button",{onClick:en,disabled:A,className:"px-8 py-3 bg-[#2ecc71] text-black font-mono font-bold hover:bg-[#27ae60] disabled:opacity-50 transition-colors flex items-center gap-2",children:A?"Importing...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Smart Import"})]})})]}),I&&(0,a.jsx)("p",{className:"text-red-500 font-mono mt-2",children:I})]}),(0,a.jsx)("div",{className:"space-y-8 mb-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-mono mb-4",children:"Property Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Property Price"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:g,onChange:e=>y(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Down Payment"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:v,onChange:e=>ee(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:N,onChange:e=>es(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Interest Rate"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:k,onChange:e=>R(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]",step:"0.1"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-mono mb-4",children:"Airbnb Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Nightly Rate"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:M,onChange:e=>E(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Occupancy Rate"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:Z,onChange:e=>C(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Cleaning Fee (per stay)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:q,onChange:e=>U(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-mono mb-4",children:"Monthly Expenses"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Maintenance"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:L,onChange:e=>T(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xl font-mono mb-2",children:"Utilities"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5"}),(0,a.jsx)("input",{type:"number",value:H,onChange:e=>G(Number(e.target.value)),className:"w-full bg-black border border-[#2ecc71] px-12 py-3 text-xl font-mono focus:outline-none focus:border-[#2ecc71] focus:ring-1 focus:ring-[#2ecc71]"})]})]})]})]})]})}),(0,a.jsx)("div",{className:"mb-12",children:(0,a.jsxs)("button",{onClick:ea,disabled:$,className:"w-full bg-[#2ecc71] text-black font-mono text-xl py-4 hover:bg-[#27ae60] disabled:opacity-50 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6"}),$?"Calculating...":"Calculate Returns"]})})]}),(0,a.jsx)("div",{className:"space-y-8",children:V&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-[#111111]/40 backdrop-blur-md border border-[#2ecc71]/20 rounded-lg p-8 shadow-xl",children:[(0,a.jsxs)("h3",{className:"text-3xl font-mono mb-8 flex items-center gap-3",children:["Investment Analysis",(0,a.jsx)("div",{className:"h-1 flex-1 bg-gradient-to-r from-[#2ecc71]/20 to-transparent"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-black/30 backdrop-blur-sm p-6 border border-[#2ecc71]/20 rounded-lg hover:border-[#2ecc71]/40 transition-all duration-300",children:[(0,a.jsx)("h4",{className:"text-2xl font-mono mb-6 text-[#2ecc71]",children:"Monthly Metrics"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Revenue"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#2ecc71]",children:["$",et.monthlyRevenue.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2ecc71] to-[#27ae60] group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)] transition-all duration-500",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Expenses"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#e74c3c]",children:["$",et.monthlyExpenses.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#e74c3c] to-[#c0392b] group-hover:shadow-[0_0_20px_rgba(231,76,60,0.3)] transition-all duration-500",style:{width:"".concat(et.monthlyExpenses/et.monthlyRevenue*100,"%")}})})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Net Profit"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#2ecc71]",children:["$",et.monthlyProfit.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2ecc71] to-[#27ae60] group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)] transition-all duration-500",style:{width:"".concat(et.monthlyProfit/et.monthlyRevenue*100,"%")}})})]})]})]}),(0,a.jsxs)("div",{className:"bg-black/30 backdrop-blur-sm p-6 border border-[#2ecc71]/20 rounded-lg hover:border-[#2ecc71]/40 transition-all duration-300",children:[(0,a.jsx)("h4",{className:"text-2xl font-mono mb-6 text-[#2ecc71]",children:"Annual Metrics"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Revenue"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#2ecc71]",children:["$",et.annualRevenue.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2ecc71] to-[#27ae60] group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)] transition-all duration-500",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Expenses"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#e74c3c]",children:["$",et.annualExpenses.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#e74c3c] to-[#c0392b] group-hover:shadow-[0_0_20px_rgba(231,76,60,0.3)] transition-all duration-500",style:{width:"".concat(et.annualExpenses/et.annualRevenue*100,"%")}})})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-mono text-gray-400",children:"Net Profit"}),(0,a.jsxs)("span",{className:"font-mono text-2xl text-[#2ecc71]",children:["$",et.annualProfit.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-1 bg-[#111] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-[#2ecc71] to-[#27ae60] group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)] transition-all duration-500",style:{width:"".concat(et.annualProfit/et.annualRevenue*100,"%")}})})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-black/30 backdrop-blur-sm p-6 border border-[#2ecc71]/20 rounded-lg hover:border-[#2ecc71]/40 transition-all duration-300",children:[(0,a.jsx)("h4",{className:"text-2xl font-mono mb-6 text-[#2ecc71]",children:"Investment Returns"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsx)("span",{className:"block font-mono text-gray-400 mb-3",children:"Return on Investment"}),(0,a.jsxs)("div",{className:"relative h-24 flex items-center justify-center mb-2",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[#111] rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#2ecc71] to-[#27ae60] rounded-full transition-all duration-500 group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)]",style:{clipPath:"polygon(0 0, ".concat(Math.min(et.roi,100),"% 0, ").concat(Math.min(et.roi,100),"% 100%, 0 100%)")}}),(0,a.jsx)("div",{className:"relative bg-black/80 px-4 py-2 rounded-full",children:(0,a.jsxs)("span",{className:"text-4xl font-mono text-white",children:[et.roi.toFixed(1),"%"]})})]}),(0,a.jsx)("div",{className:"text-center font-mono text-sm text-gray-500",children:et.roi>15?"Excellent Returns":et.roi>10?"Good Returns":"Moderate Returns"})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsx)("span",{className:"block font-mono text-gray-400 mb-3",children:"Cap Rate"}),(0,a.jsxs)("div",{className:"relative h-24 flex items-center justify-center mb-2",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[#111] rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#2ecc71] to-[#27ae60] rounded-full transition-all duration-500 group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)]",style:{clipPath:"polygon(0 0, ".concat(Math.min(2*et.capRate,100),"% 0, ").concat(Math.min(2*et.capRate,100),"% 100%, 0 100%)")}}),(0,a.jsx)("div",{className:"relative bg-black/80 px-4 py-2 rounded-full",children:(0,a.jsxs)("span",{className:"text-4xl font-mono text-white",children:[et.capRate.toFixed(1),"%"]})})]}),(0,a.jsx)("div",{className:"text-center font-mono text-sm text-gray-500",children:et.capRate>8?"Excellent Cap Rate":et.capRate>6?"Good Cap Rate":"Moderate Cap Rate"})]}),(0,a.jsxs)("div",{className:"group hover:bg-black/20 p-4 rounded-lg transition-all duration-300",children:[(0,a.jsx)("span",{className:"block font-mono text-gray-400 mb-3",children:"Occupancy"}),(0,a.jsxs)("div",{className:"relative h-24 flex items-center justify-center mb-2",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[#111] rounded-full"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#2ecc71] to-[#27ae60] rounded-full transition-all duration-500 group-hover:shadow-[0_0_20px_rgba(46,204,113,0.3)]",style:{clipPath:"polygon(0 0, ".concat(et.occupiedDays/30*100,"% 0, ").concat(et.occupiedDays/30*100,"% 100%, 0 100%)")}}),(0,a.jsx)("div",{className:"relative bg-black/80 px-4 py-2 rounded-full",children:(0,a.jsx)("span",{className:"text-4xl font-mono text-white",children:et.occupiedDays})})]}),(0,a.jsxs)("div",{className:"text-center font-mono text-sm text-gray-500",children:["days/mo (",(et.occupiedDays/30*100).toFixed(0),"% occupancy)"]})]})]})]})]}),(0,a.jsx)(x.Z,{calculatorType:"airbnb",formData:{propertyPrice:g,downPayment:N,interestRate:k,nightlyRate:M,occupancyRate:Z,maintenanceCosts:L,cleaningFee:q,utilities:H,metrics:et},autoRun:!1})]})})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("button",{onClick:el,disabled:A||!s,className:"w-full py-4 font-mono text-xl transition-all duration-300 ".concat(s?"border border-[#2ecc71] hover:bg-[#2ecc71] hover:text-black text-[#2ecc71]":"border border-gray-600 text-gray-600 cursor-not-allowed"),children:A?(0,a.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):s?"Save Report":"Login to Save Report"}),X&&(0,a.jsx)("div",{className:"mt-2 text-center text-[#2ecc71] font-mono animate-fade-in",children:"Report saved successfully!"}),Q&&(0,a.jsx)("div",{className:"mt-2 text-center text-red-500 font-mono animate-fade-in",children:Q})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-12",children:[(0,a.jsx)(l.default,{href:"/calculator",className:"py-4 border border-[#2ecc71] text-2xl font-mono text-center hover:bg-[#2ecc71] hover:text-black transition-colors",children:"Mortgage"}),(0,a.jsx)(l.default,{href:"/renters",className:"py-4 border border-[#2ecc71] text-2xl font-mono text-center hover:bg-[#2ecc71] hover:text-black transition-colors",children:"Rental"}),(0,a.jsx)(l.default,{href:"/airbnb",className:"py-4 border border-[#2ecc71] text-2xl font-mono text-center hover:bg-[#2ecc71] hover:text-black transition-colors",children:"Airbnb"}),(0,a.jsx)(l.default,{href:"/wholesale",className:"py-4 border border-[#2ecc71] text-2xl font-mono text-center hover:bg-[#2ecc71] hover:text-black transition-colors",children:"Wholesale"})]}),V&&(0,a.jsxs)("div",{className:"mt-12 space-y-8",children:[(0,a.jsx)("h3",{className:"text-3xl font-mono mb-6",children:"Revenue Analysis"}),(0,a.jsx)("div",{className:"bg-black/50 p-6 border border-[#2ecc71]/20",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-12",children:[(0,a.jsxs)("div",{className:"h-96 flex items-end justify-around gap-24 pt-12",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-32 bg-[#2ecc71] transition-all duration-500",style:{height:"".concat(et.monthlyRevenue/Math.max(et.monthlyRevenue,et.monthlyExpenses,et.monthlyProfit)*100,"%")}}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-mono text-xl mb-2",children:"Revenue"}),(0,a.jsxs)("div",{className:"font-mono text-3xl text-[#2ecc71]",children:["$",et.monthlyRevenue.toFixed(0)]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-32 bg-[#2ecc71] transition-all duration-500",style:{height:"".concat(et.monthlyExpenses/Math.max(et.monthlyRevenue,et.monthlyExpenses,et.monthlyProfit)*100,"%")}}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-mono text-xl mb-2",children:"Expenses"}),(0,a.jsxs)("div",{className:"font-mono text-3xl text-[#2ecc71]",children:["$",et.monthlyExpenses.toFixed(0)]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-32 bg-[#2ecc71] transition-all duration-500",style:{height:"".concat(et.monthlyProfit/Math.max(et.monthlyRevenue,et.monthlyExpenses,et.monthlyProfit)*100,"%")}}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-mono text-xl mb-2",children:"Profit"}),(0,a.jsxs)("div",{className:"font-mono text-3xl text-[#2ecc71]",children:["$",et.monthlyProfit.toFixed(0)]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-xl font-mono",children:"Revenue Breakdown"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-black/30 p-4 border border-[#2ecc71]/10",children:[(0,a.jsx)("span",{className:"block font-mono text-sm mb-2",children:"Nightly Revenue"}),(0,a.jsx)("div",{className:"h-2 bg-[#111] mb-2",children:(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] transition-all duration-500",style:{width:"".concat(et.occupiedDays*M/et.monthlyRevenue*100,"%")}})}),(0,a.jsxs)("span",{className:"font-mono text-lg",children:["$",(et.occupiedDays*M).toFixed(0)]})]}),(0,a.jsxs)("div",{className:"bg-black/30 p-4 border border-[#2ecc71]/10",children:[(0,a.jsx)("span",{className:"block font-mono text-sm mb-2",children:"Cleaning Revenue"}),(0,a.jsx)("div",{className:"h-2 bg-[#111] mb-2",children:(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] transition-all duration-500",style:{width:"".concat(et.occupiedDays*q/et.monthlyRevenue*100,"%")}})}),(0,a.jsxs)("span",{className:"font-mono text-lg",children:["$",(et.occupiedDays*q).toFixed(0)]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-xl font-mono",children:"Expense Breakdown"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between font-mono text-sm mb-1",children:[(0,a.jsx)("span",{children:"Mortgage"}),(0,a.jsxs)("span",{children:["$",et.monthlyPayment.toFixed(0)]})]}),(0,a.jsx)("div",{className:"h-2 bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#e74c3c] transition-all duration-500",style:{width:"".concat(et.monthlyPayment/et.monthlyExpenses*100,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between font-mono text-sm mb-1",children:[(0,a.jsx)("span",{children:"Maintenance"}),(0,a.jsxs)("span",{children:["$",L]})]}),(0,a.jsx)("div",{className:"h-2 bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#e74c3c] transition-all duration-500",style:{width:"".concat(L/et.monthlyExpenses*100,"%")}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between font-mono text-sm mb-1",children:[(0,a.jsx)("span",{children:"Utilities"}),(0,a.jsxs)("span",{children:["$",H]})]}),(0,a.jsx)("div",{className:"h-2 bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#e74c3c] transition-all duration-500",style:{width:"".concat(H/et.monthlyExpenses*100,"%")}})})]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-black/50 p-6 border border-[#2ecc71]/20",children:[(0,a.jsx)("h4",{className:"text-2xl font-mono mb-4",children:"Occupancy Distribution"}),(0,a.jsxs)("div",{className:"h-8 w-full bg-[#111] relative",children:[(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] absolute left-0 top-0 transition-all duration-500",style:{width:"".concat(Z,"%")}}),(0,a.jsxs)("div",{className:"absolute top-full mt-2 left-0 font-mono text-sm",children:["Occupied: ",et.occupiedDays," days"]}),(0,a.jsxs)("div",{className:"absolute top-full mt-2 right-0 font-mono text-sm",children:["Vacant: ",et.vacancyDays," days"]})]})]}),(0,a.jsxs)("div",{className:"bg-black/50 p-6 border border-[#2ecc71]/20",children:[(0,a.jsx)("h4",{className:"text-2xl font-mono mb-4",children:"Performance Indicators"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"relative pt-2",children:[(0,a.jsx)("div",{className:"h-2 w-full bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] transition-all duration-500",style:{width:"".concat(Math.min(et.roi,100),"%")}})}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"block font-mono text-sm",children:"ROI"}),(0,a.jsxs)("span",{className:"font-mono text-2xl",children:[et.roi.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"relative pt-2",children:[(0,a.jsx)("div",{className:"h-2 w-full bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] transition-all duration-500",style:{width:"".concat(Math.min(et.capRate,100),"%")}})}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"block font-mono text-sm",children:"Cap Rate"}),(0,a.jsxs)("span",{className:"font-mono text-2xl",children:[et.capRate.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"relative pt-2",children:[(0,a.jsx)("div",{className:"h-2 w-full bg-[#111]",children:(0,a.jsx)("div",{className:"h-full bg-[#2ecc71] transition-all duration-500",style:{width:"".concat(et.monthlyRevenue/30/M*100,"%")}})}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"block font-mono text-sm",children:"Avg. Daily Revenue"}),(0,a.jsxs)("span",{className:"font-mono text-2xl",children:["$",(et.monthlyRevenue/30).toFixed(0)]})]})]})]})]})]})]})})})}},46617:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var a=t(3827),n=t(64090),l=t(71126),r=t(51652),c=t(18994),o=t(98998),i=t(8792);function d(e){let{calculatorType:s,formData:t,autoRun:d=!1,className:x=""}=e,{data:m}=(0,l.useSession)(),[h,u]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null),[p,g]=(0,n.useState)(null),y=(null==m?void 0:m.user)&&m.user.tier||"free",v=async()=>{if("free"!==y){u(!0),f(null);try{let e=await fetch("/api/gpt/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({calculatorType:s,formData:t,tier:y})});if(!e.ok)throw Error("Failed to generate insight");let a=await e.json();g(a.insight)}catch(e){f("Failed to generate AI insight. Please try again."),console.error("GPT insight error:",e)}finally{u(!1)}}};return(!d||"elite"!==y||p||h||v(),"free"===y)?(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#2ecc71]/20 rounded-lg p-6 ".concat(x),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5 text-[#2ecc71]"}),(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"AI Deal Analysis"})]}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Upgrade to Pro or Elite to unlock AI-powered investment insights."}),(0,a.jsx)(i.default,{href:"/pricing",className:"inline-block bg-[#2ecc71] text-black px-4 py-2 rounded hover:bg-[#27ae60] transition-colors",children:"Upgrade Now"})]}):(0,a.jsxs)("div",{className:"bg-[#111111] border border-[#2ecc71]/20 rounded-lg p-6 ".concat(x),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"AI Deal Analysis"}),"pro"===y&&!h&&(0,a.jsx)("button",{onClick:v,disabled:h,className:"bg-[#2ecc71] text-black px-4 py-2 rounded hover:bg-[#27ae60] transition-colors disabled:opacity-50",children:"Get AI Insight"})]}),h&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[#2ecc71]",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 animate-spin"}),(0,a.jsx)("p",{children:"Generating AI insight..."})]}),b&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-500",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),(0,a.jsx)("p",{children:b})]}),p&&(0,a.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,a.jsx)("div",{className:"whitespace-pre-wrap font-mono text-sm text-gray-300",children:p})})]})}},98998:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},53879:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},26329:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},23441:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},48219:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},18994:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},51652:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},81049:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},79744:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},52235:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(87461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},47907:function(e,s,t){"use strict";var a=t(15313);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},78444:function(e,s,t){"use strict";function a(e){try{if(e.includes("redfin.com")){let s=e.split("/"),t=s.findIndex(e=>"home"===e);if(-1!==t&&s[t+1])return s[t+1].split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ").replace(/\s+\d+$/,"")}return null}catch(e){return console.error("Error extracting address from URL:",e),null}}t.d(s,{o:function(){return a}})}},function(e){e.O(0,[126,807,9,775,971,69,744],function(){return e(e.s=79417)}),_N_E=e.O()}]);