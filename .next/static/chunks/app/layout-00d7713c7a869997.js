(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{27546:function(e,r,t){Promise.resolve().then(t.bind(t,20934))},20934:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(3827),i=t(86087),s=t.n(i);t(52445);var o=t(18009),a=t(71126),c=t(64090);let l=(0,c.createContext)({tier:"free",isLoading:!0,error:null});function u(e){let{children:r}=e,{data:t,status:i}=(0,a.useSession)(),[s,o]=(0,c.useState)("free"),[u,f]=(0,c.useState)(!0),[d,h]=(0,c.useState)(null);return(0,c.useEffect)(()=>{(async function(){if("loading"!==i){if(!(null==t?void 0:t.user)){o("free"),f(!1);return}if(t.user.subscriptionTier){o(t.user.subscriptionTier),f(!1);return}try{let e=await fetch("/api/user/tier");if(!e.ok)throw Error("Failed to fetch tier");let r=await e.json();o(r.tier)}catch(e){console.error("Error fetching tier:",e),h(e instanceof Error?e.message:"Failed to fetch tier"),o("free")}finally{f(!1)}}})()},[t,i]),(0,n.jsx)(l.Provider,{value:{tier:s,isLoading:u,error:d},children:r})}function f(e){let{children:r}=e;return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:s().className,children:(0,n.jsx)(a.SessionProvider,{children:(0,n.jsxs)(u,{children:[r,(0,n.jsx)(o.x7,{})]})})})})}},52445:function(){},86087:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[126,9,971,69,744],function(){return e(e.s=27546)}),_N_E=e.O()}]);