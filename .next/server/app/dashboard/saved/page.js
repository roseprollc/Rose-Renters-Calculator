(()=>{var e={};e.id=6396,e.ids=[6396],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},98188:e=>{"use strict";e.exports=require("module")},12781:e=>{"use strict";e.exports=require("stream")},15569:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>y,routeModule:()=>d,tree:()=>c});var n=r(50482),s=r(69108),a=r(62563),o=r.n(a),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["dashboard",{children:["saved",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50337)),"/Users/wolf/bnb-calc-clone/app/dashboard/saved/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,98586)),"/Users/wolf/bnb-calc-clone/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],y=["/Users/wolf/bnb-calc-clone/app/dashboard/saved/page.tsx"],h="/dashboard/saved/page",u={require:r,loadChunk:()=>Promise.resolve()},d=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/saved/page",pathname:"/dashboard/saved",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4576:(e,t,r)=>{Promise.resolve().then(r.bind(r,63300))},63300:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(95344),s=r(3729),a=r(47674),o=r(8428),i=r(13751),l=r(52072),c=r(8974),y=r(28765),h=r(17418),u=r(34755);async function d(e,t){switch(await new Promise(e=>setTimeout(e,1e3)),e.type){case"mortgage":return function(e){let t=e.monthlyPayment,r=e.totalCost,n=e.roi,s=`Based on the mortgage analysis for ${e.propertyAddress}, `;return n>10?s+=`this property shows strong investment potential with a ${n.toFixed(2)}% ROI. `:n>5?s+=`this property has moderate investment potential with a ${n.toFixed(2)}% ROI. `:s+=`this property has limited investment potential with a ${n.toFixed(2)}% ROI. `,t<1e3?s+=`The monthly payment of ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} is relatively low, making it more accessible. `:t<2e3?s+=`The monthly payment of ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} is moderate. `:s+=`The monthly payment of ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} is relatively high, which may impact cash flow. `,s+=`The total cost of ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} should be considered in relation to the property's appreciation potential. `,e.interestRate&&(e.interestRate<4?s+=`The current interest rate of ${e.interestRate}% is favorable. `:e.interestRate<6?s+=`The current interest rate of ${e.interestRate}% is moderate. `:s+=`The current interest rate of ${e.interestRate}% is relatively high, which may impact long-term profitability. `),s}(e);case"rental":return function(e){let t=e.monthlyCashFlow,r=e.annualCashFlow||12*t,n=e.capRate,s=`Based on the rental analysis for ${e.propertyAddress}, `;return t>500?s+=`this property shows strong cash flow potential with ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly cash flow. `:t>0?s+=`this property has positive cash flow of ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly, though it's relatively modest. `:s+=`this property has negative cash flow of ${Math.abs(t).toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly, which may not be sustainable long-term. `,n>8?s+=`The cap rate of ${n.toFixed(2)}% is excellent, indicating strong potential returns. `:n>5?s+=`The cap rate of ${n.toFixed(2)}% is good, indicating reasonable returns. `:s+=`The cap rate of ${n.toFixed(2)}% is relatively low, suggesting limited income potential relative to the property value. `,s+=`The annual cash flow of ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} should be considered in relation to maintenance costs and potential vacancies. `}(e);case"wholesale":return function(e){let t=e.arv,r=e.potentialProfit,n=e.totalInvestment||0,s=e.repairCosts||0,a=`Based on the wholesale analysis for ${e.propertyAddress}, `;return r>3e4?a+=`this property shows excellent profit potential with ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} in potential profit. `:r>15e3?a+=`this property has good profit potential with ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} in potential profit. `:a+=`this property has limited profit potential with ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} in potential profit. `,a+=`The After Repair Value (ARV) of ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} `,s>0&&(a+=`with estimated repair costs of ${s.toLocaleString("en-US",{style:"currency",currency:"USD"})} `),a+=`requires a total investment of ${n.toLocaleString("en-US",{style:"currency",currency:"USD"})}. `,s>.3*t?a+="The high repair costs relative to ARV indicate significant renovation risk. ":s>.15*t?a+="The moderate repair costs suggest manageable renovation requirements. ":a+="The low repair costs suggest minimal renovation requirements. ",a}(e);case"airbnb":return function(e){let t=e.monthlyRevenue,r=e.monthlyProfit||0,n=e.nightlyRate||0,s=`Based on the Airbnb analysis for ${e.propertyAddress}, `;return t>5e3?s+=`this property shows strong revenue potential with ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly revenue. `:t>3e3?s+=`this property has good revenue potential with ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly revenue. `:s+=`this property has modest revenue potential with ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})} monthly revenue. `,r>2e3?s+=`The monthly profit of ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} is excellent. `:r>0?s+=`The monthly profit of ${r.toLocaleString("en-US",{style:"currency",currency:"USD"})} is positive but modest. `:s+=`The monthly loss of ${Math.abs(r).toLocaleString("en-US",{style:"currency",currency:"USD"})} indicates this property may not be profitable as a short-term rental. `,n>0&&(s+=`With a nightly rate of ${n.toLocaleString("en-US",{style:"currency",currency:"USD"})}, `,n>200?s+="this property is positioned in the premium segment of the market. ":n>100?s+="this property is positioned in the mid-range segment of the market. ":s+="this property is positioned in the budget segment of the market. "),s}(e);default:return"Unable to generate insights for this analysis type."}}var p=r(54073);function m(){let{data:e,status:t}=(0,a.useSession)(),r=(0,o.useRouter)(),m=(0,p.JD)(),[f,g]=(0,s.useState)([]),[x,S]=(0,s.useState)(!0),[v,w]=(0,s.useState)(null),[b,U]=(0,s.useState)({search:"",type:"all",sortBy:"newest"});(0,s.useEffect)(()=>{if("unauthenticated"===t){r.push("/login");return}let e=async()=>{try{let e=await fetch("/api/analyses");if(!e.ok)throw Error("Failed to fetch analyses");let t=await e.json();g(t)}catch(e){w(e instanceof Error?e.message:"Failed to fetch analyses"),u.Am.error("Failed to load saved analyses")}finally{S(!1)}};"authenticated"===t&&e()},[t,r]);let $=async e=>{try{if(!(await fetch(`/api/analyses/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete analysis");g(f.filter(t=>t.id!==e)),u.Am.success("Analysis deleted successfully")}catch(e){u.Am.error("Failed to delete analysis")}},A=async e=>{try{if(!(await fetch("/api/analyses/bulk-delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e})})).ok)throw Error("Failed to delete analyses");g(f.filter(t=>!e.includes(t.id))),u.Am.success("Selected analyses deleted successfully")}catch(e){u.Am.error("Failed to delete selected analyses")}},j=async(e,t)=>{u.Am.info("Export functionality coming soon!")},D=async(e,t)=>{u.Am.info("Bulk export functionality coming soon!")},T=async e=>{try{let t=f.find(t=>t.id===e);if(!t)throw Error("Analysis not found");let r=await d(t,m),n={...t,aiSummary:r};if(g(f.map(t=>t.id===e?n:t)),!(await fetch(`/api/analyses/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({aiSummary:r})})).ok)throw Error("Failed to save AI insight");return r}catch(e){return console.error("Error generating AI insight:",e),u.Am.error("Failed to generate AI insight"),null}};return x?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):v?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"text-red-500",children:v})}):n.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Saved Analyses"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("div",{className:"relative",children:[n.jsx(y.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(l.I,{type:"text",placeholder:"Search analyses...",className:"pl-10",value:b.search,onChange:e=>U({...b,search:e.target.value})})]}),n.jsx(c.z,{variant:"outline",size:"icon",onClick:()=>{},children:n.jsx(h.Z,{className:"h-4 w-4"})})]})]}),n.jsx(i.U,{analyses:f,filters:b,onDelete:$,onBulkDelete:A,onExport:j,onBulkExport:D,onAskAI:T})]})})}},17418:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(69224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},28765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},50337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>o});let n=(0,r(86843).createProxy)(String.raw`/Users/wolf/bnb-calc-clone/app/dashboard/saved/page.tsx`),{__esModule:s,$$typeof:a}=n,o=n.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[1638,4965,3804,1180],()=>r(15569));module.exports=n})();