"use strict";(()=>{var e={};e.id=7528,e.ids=[7528],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},68424:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>y,originalPathname:()=>f,patchFetch:()=>R,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var a={};t.r(a),t.d(a,{POST:()=>l});var o=t(95419),s=t(69108),n=t(99678),i=t(78070);let p={propertyDetails:{address:"190 Davidson Ave, Buffalo, NY 14215",purchasePrice:94990,propertyType:"Single Family",yearBuilt:1925,squareFeet:1344,bedrooms:3,bathrooms:1},monthlyExpenses:{propertyTax:2400,insurance:800,utilities:150,maintenance:100,hoaFees:0},rentalAssumptions:{monthlyRent:1400,vacancyRate:5,managementFee:8,repairsPercentage:1},financing:{downPayment:20,interestRate:7.5,loanTerm:30,closingCosts:3},source:{url:"",platform:"Unknown"}};async function l(e){try{let{url:r}=await e.json();if(!r)return i.Z.json({error:"Missing URL"},{status:400});if(r.includes("zillow.com"))return i.Z.json({error:"Zillow links are currently not supported. Please use Redfin or Realtor.com links instead.",unsupported:!0},{status:400});let t=r.includes("redfin.com")?function(e){try{let r=new URL(e).pathname.split("/"),t=r[1]||"",a=r[2]||"",o=r.slice(3).filter(e=>e&&"home"!==e&&!e.match(/^\d+$/)),s=o.find(e=>e.match(/^\d{5}$/))||"",n=o.filter(e=>e!==s).map(e=>e.split("-").map(e=>e.match(/^\d+$/)?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")).join(" ");return{address:`${n} ${a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()} ${t.toUpperCase()} ${s}`,zipcode:s}}catch(e){return console.error("Error extracting address from URL:",e),null}}(r):null;if(!t)return i.Z.json({error:"Could not extract address from URL. Please try a different URL or enter details manually."},{status:400});try{let e=await fetch("/api/providers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r,address:t.address,zipcode:t.zipcode})});if(!e.ok)throw Error("Failed to fetch property data");let a=await e.json();return i.Z.json({propertyDetails:{address:a.propertyDetails.address,purchasePrice:a.propertyDetails.purchasePrice,propertyType:a.propertyDetails.propertyType||"Single Family",yearBuilt:a.propertyDetails.yearBuilt,squareFeet:a.propertyDetails.squareFeet,bedrooms:a.propertyDetails.bedrooms,bathrooms:a.propertyDetails.bathrooms},monthlyExpenses:{propertyTax:Math.round(.025*a.propertyDetails.purchasePrice/12),insurance:Math.round(.005*a.propertyDetails.purchasePrice/12),utilities:150,maintenance:Math.round(.01*a.propertyDetails.purchasePrice/12),hoaFees:0},rentalAssumptions:{monthlyRent:a.marketData?.averageDailyRate?Math.round(30*a.marketData.averageDailyRate):a.propertyDetails.rentEstimate?.median||Math.round(.008*a.propertyDetails.purchasePrice),vacancyRate:a.marketData?.averageOccupancyRate?100-a.marketData.averageOccupancyRate:5,managementFee:8,repairsPercentage:1},financing:{downPayment:20,interestRate:7.5,loanTerm:30,closingCosts:3},source:{url:r,platform:r.includes("redfin.com")?"Redfin":r.includes("realtor.com")?"Realtor.com":"Unknown"}})}catch(e){return console.error("API provider error:",e),i.Z.json({...p,propertyDetails:{...p.propertyDetails,address:t.address},source:{url:r,platform:r.includes("redfin.com")?"Redfin":r.includes("realtor.com")?"Realtor.com":"Unknown"}})}}catch(e){return console.error("Smart import error:",e),i.Z.json({error:"Failed to process property data"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/smart-import/route",pathname:"/api/smart-import",filename:"route",bundlePath:"app/api/smart-import/route"},resolvedPagePath:"/Users/wolf/bnb-calc-clone/app/api/smart-import/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:y,staticGenerationBailout:h}=c,f="/api/smart-import/route";function R(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206],()=>t(68424));module.exports=a})();